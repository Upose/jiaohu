<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="__DOCLAY__/plugins/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="__CSS__/ProjectCustomer.css" media="all">
    <link rel="stylesheet" href="__CSS__/ProjectCollectiontitle.css" media="all">
    <link rel="stylesheet" href="__CSS__/LCBplan.css" media="all">	
    <script src="__STATIC__/jquery-2.0.3.min.js"></script>
    <script src="__STATIC__/vue.min.js"></script>
    <style>
      弹框样式
      .left_form{
          margin-top: 5%;
          margin-left: 5%;
      }
      .right_form{
          margin-top: 5%;
          margin-left: 5%;
      }
      .bottom_btn{
        margin-top: 5vh;
        margin-left: 8vw;
      }
      .LCBplan_content{
        height: 110vh;
        background: white;
        margin-top: 10px;
      }
      .left_list{
          height: 100%;
      }
      .list_floor{
          width: 90%;
          height: 90%;
          margin:  0 auto;
          margin-top: 1%;
      }
      .plan_con{
          width: 100%;
          height: 100%;
          margin: 0 auto;
          padding-left: 5%;
          margin-top: 2%;
      }
      .plan_con_title{
          width: 100%;
          height: 22%;
          text-align: left;
          color: #000000;
          font-size: 1.2vw;
      }
      .left_list_top{
          width: 100%;
          height: 8%;
          margin-top: 2%;
      }
      .leftplan_title{
          float: left;
      }
      .leftplan_btn{
          float: right;
      }
      .leftbtn_list{
          width: 100%;
          height: 40%;
          margin-top: 1%;
      }
      .ht_btn{
          width: 8vw;
          height: 7vh;
          color: #8A8A8A;
          border: none;
          background: #ECECEC;
      }
      .jh_btn{
          width: 8vw;
          height: 7vh;
          color: #8A8A8A;
          border: none;
          margin-left: 1vw;
          background: #ECECEC;
      }
      .planlist_time{
          width: 100%;
          color: #8A8A8A;
      }
      .left_list_main{
          width: 95%;
          height: 90%;
          overflow: hidden;
          overflow-y: auto;
      }
      .left_list_main::-webkit-scrollbar{
          width: 5px;
          height: 5px;
      }
      .left_list_main::-webkit-scrollbar-thumb{
          border-radius: 5px;
          -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
          background: #009588;
      }
      .left_list_main::-webkit-scrollbar-track{
          border-radius: 0;
          background: #ECEDF1;
      }
      .plan_list{
          width: 100%;
          height: 23%;
          margin-bottom: 3vh;
          border: 1px solid #E6E6E6;
          border-left: 5px solid #009588;
          box-shadow: #E6E6E6 2px 2px 2px 2px ;
      }
      .right_list{
          height: 100%;
      }
      .right_top{
          height: 10%;
          width: 100%;
      }
      .rg_top_con{
          height: 100%;
          width: 90%;
          float: right;
          margin: 0 auto;
      }
      .rightTop_list{
          float: left;
          width: 10%;
          height: 100%;
      }
      .top_list{
          width: 100%;
          height: 100%;
          float: right;
      }
      .right_title{
          height: 10%;
          width: 100%;
      }
      .need_title{
        float: left;
        color: #000;
        font-size: 1.2vw;
        font-weight: 900;
        text-align: center;
        line-height: 10vh;
        margin-left: 2vw;
      }
      .rihtplan_btn{
          float: right;
      }
      .right_content{
          height: 80%;
          width: 100%;
      }
      /* 右侧面板折叠内容 */
      .plan_content{
          height: 13vh;
          width: 100%;
          margin-top: 5px;
      }
      .plan_con_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .plan_con_detail{
          width:  85%;
          height: 100%;
          float: left;
      }
      .delivery_goal{
          height: 13vh;
          width: 100%;
          margin-top: 10px;
      }
      .delivery_goal_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .delivery_goal_detail{
          width:  85%;
          height: 100%;
          float: left;
      }
      .rg_start_time{
          height: 5vh;
          width: 100%;
          margin-top: 10px;
      }
      .rg_start_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .rg_start_con{
          width:  85%;
          height: 100%;
          float: left;
      }
      .rg_end_time{
          height: 5vh;
          width: 100%;
          margin-top: 10px;
      }
      .rg_end_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .rg_end_con{
          width:  85%;
          height: 100%;
          float: left;
      }
      .rg_type{
          height: 5vh;
          width: 100%;
          margin-top: 10px;
      }
      .rg_type_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .rg_type_detail{
          width:  85%;
          height: 100%;
          float: left;
      }
      .rg_bz{
          height: 5vh;
          width: 100%;
          margin-top: 10px;
      }
      .rg_bz_name{
          width: 10%;
          height: 100%;
          color: #009588;
          float: left;
      }
      .rg_bz_detail{
          width:  85%;
          height: 100%;
          float: left;
      }
      .create_time{
          height: 5vh;
          width: 100%;
     }
     .public_father{
         width: 100%;
         height: 90%;
     }
     .right_public{
         width: 100%;
         height: 100%;
     }
     .data_null{
         text-align: center;
     }
    </style>
</head>
<body id="app">
    <div id="event-view">
            <div class="details_gao">
                    <blockquote class="layui-elem-quote">项目里程碑</blockquote>
                    <div class="layui-row layui-col-space1">
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                                    <img  src="/Public/Doc/images/user.png" alt="">							
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">商务/售前</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                            <ul>
                                <li class="layui-tab-zi">
                                    <a href="{:U('ProjectManagement/ProjectDisplay')}">
                                      <h3 class="layui-cite">项目信息</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/ProjectApproval')}">
                                    <h3 class="layui-cite">立项</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/ProjectCollection')}">
                                    <h3 class="layui-cite">项目成员</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/ProjectCustomer')}">
                                    <h3 class="layui-cite">客户关系</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">启动</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                                <ul>
                                <li class="layui-tab-zhong  layui-red">
                                    <a href="{:U('ProjectManagement/LCBplan')}">
                                    <h3 class="layui-cite">里程碑计划</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zhong layui-tab-top">
                                    <a href="{:U('KnowledgeSharing/index')}">
                                    <h3 class="layui-cite">工作计划</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">计划管理</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                            <ul>
                                <li class="layui-tab-zi">
                                    <a href="{:U('ProjectManagement/WeeklyControl')}">
                                    <h3 class="layui-cite">周报管理</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/ProjectMinutes')}">
                                    <h3 class="layui-cite">会议管理</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/Projectrisk')}">
                                    <h3 class="layui-cite">风险管理</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zi layui-tab-top">
                                    <a href="{:U('ProjectManagement/ProjectEvent')}">
                                    <h3 class="layui-cite">事件管理</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">执行管理</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                            <ul>
                                <li class="layui-tab-zhonging">
                                    <a href="{:U('Feedback/index')}">
                                    <h3 class="layui-cite">测试报告</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">测试联调</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">
                            <ul>
                                <li class="layui-tab-zhonging">
                                    <a href="{:U('ProjectManagement/ProjectTextrun')}">
                                    <h3 class="layui-cite">试运行记录</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="style-agile-border">
                            <img  src="/Public/Doc/images/sty1.png" alt="">
                            </div>
                            <div class="layui_code">试运行</div>
                        </div>
                        <div class="layui-col-md2">
                            <div class="grid-demo">						<ul>
                                <li class="layui-tab-zhongpp ">
                                    <a href="{:U('ProjectManagement/ProjectAcceptance')}">
                                    <h3 class="layui-cite">项目验收</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zhongpp layui-tab-top">
                                    <a href="{:U('KnowledgeSharing/index')}">
                                    <h3 class="layui-cite">成员考勤</h3>
                                    </a>
                                </li>
                                <li class="layui-tab-zhongpp layui-tab-top">
                                    <a href="{:U('KnowledgeSharing/index')}">
                                    <h3 class="layui-cite">成员考核</h3>
                                    </a>
                                </li>
                            </ul>
                            </div>
                            <div class="layui_code">验收归档</div>
                        </div>
                    </div>
            </div> 
            <div class="LCBplan_content">
                <!-- 左侧列表内容 -->
                <div class="left_list layui-col-md4">
                    <div class="left_list_top">
                        <blockquote class="layui-elem-quote leftplan_title">项目里程碑计划采集</blockquote></blockquote>
                        <button class="layui-btn layui-btn-radius layui-btn-lg leftplan_btn" lay-filter="leftplan_btn">新建计划</button>
                    </div>
                    <!-- 点击事件的父亲 -->
                    <div class="left_list_main">
                        
                    </div>
                </div>  
                <!-- 点击事件显示的父亲 -->
                <div class="right_detail_box" style="height: 100%;">
                    <div class="right_list layui-col-md8">
                        <div class="right_top">
                            <div class="rg_top_con">
                            <ul class="top_list">
                                <li class="rightTop_list zc_btn topactive">
                                    <div>
                                        <img src="" alt="">
                                        <p>驻场</p>
                                    </div>
                                </li>
                                <li class="rightTop_list xq_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>需求</p>
                                    </div>
                                </li>
                                <li class="rightTop_list sj_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>设计</p>
                                    </div>
                                </li>
                                <li class="rightTop_list kf_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>开发</p>
                                    </div>
                                </li>
                                <li class="rightTop_list cs_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>测试</p>
                                    </div>
                                </li>
                                <li class="rightTop_list sx_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>试行</p>
                                    </div>
                                </li>
                                <li class="rightTop_list px_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>培训</p>
                                    </div>
                                </li>
                                <li class="rightTop_list ys_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>验收</p>
                                    </div>
                                </li>
                                <li class="rightTop_list gd_btn">
                                    <div>
                                        <img src="" alt="">
                                        <p>归档</p>
                                    </div>
                                </li>
                            </ul>
                            </div>
                        </div> 
                        <div class="public_father">
                            <div class="zc_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">驻场计划采集列表</h3>
                                
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse zc_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="xq_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">需求计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse xq_content_list" lay-accordion="">
                        
                                </div>
                            </div>
                            </div>
                            <div class="sj_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">设计计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse sj_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="kf_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">开发计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse kf_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="cs_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">测试计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse cs_content_list" lay-accordion="">
                                    
                                </div>
                            </div>
                            </div>
                            <div class="sx_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">试行计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse sx_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="px_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">培训计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse px_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="ys_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">验收计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse ys_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                            <div class="gd_content right_public">
                            <div class="right_title">
                                <h3 class="need_title">归档计划采集列表</h3>
                                <button class="layui-btn layui-btn-radius layui-btn-lg rihtplan_btn create_newrequire" lay-filter="rihtplan_btn">新建计划</button>
                            </div>
                            <div class="right_content">
                                <div class="layui-collapse gd_content_list" lay-accordion="">
                                   
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 弹出框左侧新建计划  -->
            <div class="layui-row" id="newplan" style="display: none;padding-top: 20px;                 padding-left:20px;">
                <div class="layui-col-md10">
                    <form  class="layui-form left_form">
                        <div class="layui-form-item">
                             <label class="layui-form-label plan-name">计划名称:</label>
                             <div class="layui-input-block">
                               <input type="text" name="title" lay-verify="title" id="lf_plan_name" autocomplete="off" placeholder="请输入标题" class="layui-input input">
                             </div>
                        </div>
                        <div class="layui-form-item layui-form-text">
                            <label class="layui-form-label plan-content">计划内容:</label>
                            <div class="layui-input-block">
                              <textarea placeholder="请输入内容" class="layui-textarea" id="lf_plan_content"></textarea>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label plan-start">开始时间:</label>
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" id="lf_start_time" placeholder="yyyy年MM月dd日" lay-verify="required">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label plan-end">结束时间:</label>
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" id="lf_end_time" placeholder="yyyy年MM月dd日" lay-verify="required">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label plan-main">交付目标:</label>
                                <div class="layui-input-inline">
                                  <input type="text" placeholder="这里填写目标" class="layui-input" id="lf_deliver_target">
                                </div>
                            </div>
                            <div class="layui-inline">
                                    <label class="layui-form-label plan-kinds">计划类型:</label>
                                    <div class="layui-input-inline">
                                      <select name="modules" lay-verify="required" lay-search="" id="lf_plan_type">
                                        <option value="计划内">计划内</option>
                                        <option value="变更">变更</option>
                                        <option value="新增">新增</option>
                                      </select>
                                    </div>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label messages">备注信息:</label>
                            <div class="layui-input-inline">
                              <input type="text" placeholder="这里填写备注信息" class="layui-input" id="lf_remarks">
                            </div>
                        </div>
                        <div class="bottom_btn">
                            <button type="button" class="layui-btn layui-btn-radius plan-true" id="leftsubmit">确定</button>
                            <button type="button" class="layui-btn layui-btn-primary layui-btn-radius plan-false" id="left_cancle">取消</button>
                        </div>
                    </form>
                </div>
            </div>       
            <!-- 弹出框右侧新建需求  -->
            <div class="layui-row" id="newrequire" style="display: none;">
                <div class="layui-col-md10">
                    <form  class="layui-form right_form">
                        <div class="layui-inline">
                                <label class="layui-form-label">计划名称:</label>
                                <div class="layui-input-inline">
                                  <input type="text" placeholder="这里填写计划名称" class="layui-input" id="rg_plan_name">
                                </div>
                        </div>
                        <div class="layui-form-item layui-form-text" style="margin-top: 15px;">
                            <label class="layui-form-label plan" >计划内容:</label>
                            <div class="layui-input-block content">
                              <textarea placeholder="请输入内容" class="layui-textarea" id="rg_plan_content"></textarea>
                            </div>
                        </div>
                        <div class="layui-form-item layui-form-text">
                            <label class="layui-form-label main">交付目标:</label>
                            <div class="layui-input-block">
                              <textarea placeholder="请输入内容" class="layui-textarea" id="rg_plan_target"></textarea>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label start">开始时间:</label>
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" id="rg_start_date" placeholder="yyyy年MM月dd日" lay-verify="required">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label end">结束时间:</label>
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" id="rg_end_date" placeholder="yyyy年MM月dd日" lay-verify="required">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label plankinds">计划类型:</label>
                                <div class="layui-input-inline">
                                  <select name="modules" lay-verify="required" lay-search="" id="rg_plan_type">
                                    <option value="计划内">计划内</option>
                                    <option value="变更">变更</option>
                                    <option value="新增">新增</option>
                                  </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label messages1">备注信息:</label>
                                <div class="layui-input-inline">
                                  <input type="text" placeholder="这里填写备注信息" class="layui-input" id="rg_plan_remake">
                                </div>
                            </div>
                            
                        </div>
                        <div class="bottom_btn">
                            <button type="button "class="layui-btn layui-btn-radius plan-true" id="rightsubmit">确定</button>
                            <button type="button" class="layui-btn layui-btn-primary layui-btn-radius false" id="right_cancle">取消</button>
                        </div>
                    </form>
                </div>
            </div>         
    </div>
    <script src="__DOCLAY__/plugins/layui/layui.js"></script>
    <script>
    </script>
    <!-- layui引入部分 -->
    <script>
    var form,layedit,layer,laydate; 
    layui.use(['form', 'layedit', 'laydate','table','element'], function(){
	  form = layui.form,
	  layer = layui.layer,
	  layedit = layui.layedit,
	  laydate = layui.laydate;
      var element =layui.layer;
		var table = layui.table;
        //左侧开始日期 
		laydate.render({
			elem: '#lf_start_time'
			});
        //左侧侧结束日期 
		laydate.render({
			elem: '#lf_end_time'
			});

        // 右侧开始日期
        laydate.render({
			elem: '#rg_start_date'
		});
        // 右侧结束日期
        laydate.render({
			elem: '#rg_end_date'
		});
        // 左侧点击弹窗
    $('.leftplan_btn').on('click',function(){
				layer.open({
						type: 1,
						title: '新建计划',
						closeBtn: 1,   // 关闭样式
						shadeClose: true,  // 关闭方式
						anim:5,    // 弹出样式
						area: ['75vw', '95vh'],
						// btn:['确定','取消'],
						isOutAnim:false,    // 关闭动画
						content: $('#newplan'),
				})								
	}); 
        // 右侧点击弹窗
    $('.rihtplan_btn').on('click',function(){
				layer.open({
						type: 1,
						title: '新建计划',
						closeBtn: 1,   // 关闭样式
						shadeClose: true,  // 关闭方式
						anim:5,    // 弹出样式
						area: ['75vw', '95vh'],
						// btn:['确定','取消'],
						isOutAnim:false,    // 关闭动画
						content: $('#newrequire'),
				})								
	}); 
    });
        // 左侧弹窗取消
        $("#left_cancle").on('click',function(){
            layer.close(layer.index);
        })
        // 右侧弹窗取消
        $("#right_cancle").on('click',function(){
            layer.close(layer.index);
        })
    //右侧折叠展开框点击事件
    $(".public_father").on("click",".addShow",function(){
          var tar = $(this);
          var index = tar.index();
          if(tar.parent().children(1).hasClass("layui-show")){
            tar.parent().children(1).removeClass("layui-show");
          }else{
            tar.parent().children(1).addClass("layui-show");
            tar.parent().siblings().children(1).removeClass("layui-show");
          }  
    })
    
    //新的右侧列表点击切换
     $(()=>{
        $(".zc_content").show().siblings().hide();
        $(".top_list").on("click",".rightTop_list",function(){
            var tar = $(this);
            var index = tar.index();
            tar.addClass("topactive").siblings().removeClass("topactive");
            var topactive=$(".topactive p").html();
            if(topactive=="驻场"){
                $(".zc_content").show().siblings().hide();
            }else if(topactive=="需求"){
                $(".xq_content").show().siblings().hide();
            }else if(topactive=="设计"){
                $(".sj_content").show().siblings().hide();
            }else if(topactive=="开发"){
                $(".kf_content").show().siblings().hide();
            }else if(topactive=="测试"){
                $(".cs_content").show().siblings().hide();
            }else if(topactive=="试行"){
                $(".sx_content").show().siblings().hide();
            }else if(topactive=="培训"){
                $(".px_content").show().siblings().hide();
            }else if(topactive=="验收"){
                $(".ys_content").show().siblings().hide();
            }else if(topactive=="归档"){
                $(".gd_content").show().siblings().hide();
            }

        })
    })
</script>
   <!-- 数据接口调用部分 -->
    <script>
        var plan_code=null;
        //左侧列表调用展示
        $(()=>{
        $.ajax({
        url:"{:U('ItemMilepost/planList')}",
        type: 'get',
        data:{},
        dataType: 'json',
        success: function(res) {
                if (res.code == 200) {
                    //console.log(res);
                    for (var i = 0; i <res.data.length ; i++) {
                        var data=res.data[i];
                    $('.left_list_main').append(
                        '<div class="plan_list" leftvalue="'+data.plan_code+'">'+
                          '<div class="list_floor">'+
                            '<div class="plan_con">'+
                                '<div class="plan_con_title">'+
                                    '<h3>'+data.plan_name+'</h3>'+
                                '</div>'+
                                '<div class="leftbtn_list">'+
                                    '<button class="ht_btn">'+data.nature+'</button>'+
                                    '<button class="jh_btn">'+data.plan_type+'</button>'+
                                '</div>'+
                                '<hr style="width: 80%;">'+
                                '<p class="planlist_time">'+'起止时间:'+data.plan_stime+'至'+data.plan_etime+'</p>'+
                            '</div>'+
                          '</div>'+
                        '</div>'
                    );
                }
                        //右侧列表调用展示
                        $.ajax({
                        url:"{:U('ItemMilepost/stageList')}",
                        type: 'post',
                        data:{
                            pro_code:233,
                            plan_code:plan_code==null?$(".left_list_main").children().first().attr("leftvalue"):plan_code
                        },
                        dataType: 'json',
                        success: function(response) {
                                //console.log(response,'1111111111');
                                if (response.code == 200&&response.data!== '') {
                                    for (var i = 0; i <response.data.length ; i++) {
                                        var data=response.data[i];
                                        if(data.milepost_id==1)
                                    {
                                      $('.zc_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==2)
                                 {
                                    $('.xq_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==3)
                                 {
                                    $('.sj_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==4)
                                 {
                                    $('.kf_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==5)
                                 {
                                    $('.cs_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==6)
                                 {
                                    $('.sx_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                            '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                            '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==7)
                                 {
                                    $('.px_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==8)
                                 {
                                    $('.ys_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                     else if(data.milepost_id==9)
                                 {
                                    $('.gd_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 
                                    }

                                }else if(response.code == 200&&response.data== ''){
                                    $('.zc_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.xq_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.sj_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.kf_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.cs_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.sx_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.px_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                                    $('.ys_content_list').append(
                                            '<h2 class="data_null">需求暂无数</h2>'
                                    )
                                    $('.gd_content_list').append(
                                            '<h2 class="data_null">暂无数据</h2>'
                                    )
                            }
                        }
                        })
                 
                }
        },
        })
        })
        //左侧弹窗点击事件提交
        $("#leftsubmit").click(function(event){
        event.preventDefault();
        var pro_code=233;//写死的数值  后期再从其他页面获取
        var type_id=1;//写死的数值  后期再从其他页面获取
        var plan_name = $(" #lf_plan_name").val();// 名称
        var plan_content= $(" #lf_plan_content").val();// 内容
        var plan_stime= $(" #lf_start_time").val();// 开始时间
        var plan_etime= $(" #lf_end_time").val();// 结束时间
        var deliver_target= $(" #lf_deliver_target").val();// 交付目标
        var plan_type= $(" #lf_plan_type").val();// 计划类型
        var remarks= $(" #lf_remarks").val();// 备注
        if (plan_name == '' || plan_content == '' 
                || plan_stime == '' || plan_etime == '' 
                || deliver_target == '' || plan_type == '' || remarks == '')
            {
                layer.msg('请填写完整信息后提交', {icon: 5});
            }else{
        //alert(plan_name+plan_content+plan_stime+plan_etime+deliver_target+type_id+remarks);
        $.ajax({
             type:'POST',
             url:"{:U('ItemMilepost/planningTask')}",
             data:{'plan_name' : plan_name,
                   'plan_content' : plan_content,
                   'plan_stime' : plan_stime,
                   'plan_etime':plan_etime,
                   'deliver_target':deliver_target,
                   'plan_type':plan_type,
                   'remarks':remarks,
                   'pro_code':pro_code,
                   'type_id':type_id
                },
             dataType:'json',
             success:function(data){
                layer.close(layer.index);
                layer.alert('提交成功');
                location.reload();
             } 
          })
         
        }
        });
        // 左侧点击获取数据
         $(()=>{
         $(".left_list_main").on("click",".plan_list",function(){
            var tar = $(this);
            var index = tar.index();
            plan_code = tar.attr("leftvalue");
            //alert(plan_code);
                $.ajax({
                    url:"{:U('ItemMilepost/stageList')}",
                    type: 'post',
                    data:{
                        pro_code:233,
                        plan_code:plan_code
                    },
                    dataType: 'json',
                    success: function(response) {
                        //console.log(response,'222222222');
                        //alert(data.code);
                        $('.zc_content_list').html("");
                        $('.xq_content_list').html("");
                        $('.sj_content_list').html("");
                        $('.kf_content_list').html("");
                        $('.cs_content_list').html("");
                        $('.sx_content_list').html("");
                        $('.px_content_list').html("");
                        $('.ys_content_list').html("");
                        $('.gd_content_list').html("");
                        if (response.code == 200&&response.data!= '') {
                                for (var i = 0; i <response.data.length ; i++) {
                                    var data=response.data[i];
                                    if(data.milepost_id==1){
                                      $('.zc_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                         data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==2)
                                 {
                                    $('.xq_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==3)
                                 {
                                    $('.sj_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==4)
                                 {
                                    $('.kf_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==5)
                                 {
                                    $('.cs_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==6)
                                 {
                                    $('.sx_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==7)
                                 {
                                    $('.px_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==8)
                                 {
                                    $('.ys_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }
                                 else if(data.milepost_id==9)
                                 {
                                    $('.gd_content_list').append(
                                         '<div class="layui-colla-item">'+
                                         '<h2 class="layui-colla-title addShow">'+
                                                data.plan_name+
                                         '<i class="layui-icon layui-colla-icon">></i>'+
                                         '</h2>'+
                                         '<div class="layui-colla-content">'+
                                           '<div class="plan_content">'+
                                             '<div class="plan_con_name">[计划内容] </div>'+
                                             '<div class="plan_con_detail">' +data.plan_content+'</div>'+
                                           '</div>'+
                                           '<div class="delivery_goal">'+
                                             '<div class="delivery_goal_name">'+
                                                 '[交付目标]'+
                                             '</div>'+
                                             '<div  class="delivery_goal_detail">'+data.deliver_target+'</div>'+
                                           '</div>'+
                                           '<div class="rg_start_time">'+
                                             '<div class="rg_start_name">'+
                                                 '[开始时间]'+
                                             '</div>'+
                                             '<div class="rg_start_con">'+data.plan_stime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_end_time">'+
                                             '<div class="rg_end_name">'+
                                                 '[结束时间]'+
                                             '</div>'+
                                             '<div class="rg_end_con">'+data.plan_etime+'</div>'+
                                           '</div>'+
                                           '<div class="rg_type">'+
                                              '<div class="rg_type_name">'+
                                                  '[计划类别]'+
                                              '</div>'+
                                              '<div class="rg_type_detail">'+data.plan_type+'</div>'+
                                           '</div>'+
                                           '<div class="rg_bz">'+
                                              '<div class="rg_bz_name">'+
                                                  '[备注信息]'+
                                              '</div>'+
                                              '<div class="rg_bz_detail">'+data.remarks+'</div>'+
                                           '</div>'+
                                           '<hr>'+
                                           '<div class="create_time">'+data.create_data+'</div>'+
                                       '</div>'+
                                    '</div>'
                                    )
                                 }



                                }
                            }else if(response.code == 200&&response.data== ''){
                                $('.zc_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.xq_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.sj_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.kf_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.cs_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.sx_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.px_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                                $('.ys_content_list').append(
                                        '<h2 class="data_null">需求暂无数</h2>'
                                )
                                $('.gd_content_list').append(
                                        '<h2 class="data_null">暂无数据</h2>'
                                )
                            }
                    },
                    error:function(){
                        //console.log(1234);
                    }    
              })
            })
        })
        // 右侧添加数据
        $("#rightsubmit").click(function(event){
                        event.preventDefault();
                        var topactive=$(".topactive p").html();
                        var milepost_id;
                        if(topactive=="驻场"){
                                milepost_id=1
                            }else if(topactive=="需求"){
                                milepost_id=2
                            }
                            else if(topactive=="设计"){
                                milepost_id=3
                            }else if(topactive=="开发"){
                                milepost_id=4
                            }else if(topactive=="测试"){
                                milepost_id=5
                            }else if(topactive=="试行"){
                                milepost_id=6
                            }else if(topactive=="培训"){
                                milepost_id=7
                            }else if(topactive=="验收"){
                                milepost_id=8
                            }else if(topactive=="归档"){
                                milepost_id=9
                        }
                        var pro_code=233;//写死的数值  后期再从其他页面获取
                        //console.log(plan_code,'15511551');
                        plan_code=plan_code==null?$(".left_list_main").children().first().attr("leftvalue"):plan_code;
                        var plan_name=$("#rg_plan_name").val();//计划名称
                        var plan_content =$("#rg_plan_content").val();//计划内容
                        var deliver_target = $("#rg_plan_target").val();//交付目标
                        var plan_stime = $("#rg_start_date").val();//开始时间
                        var plan_etime = $("#rg_end_date").val();//结束时间
                        var plan_type= $(" #rg_plan_type").val();// 计划类型
                        var remarks=$("#rg_plan_remake").val();//备注
                       //alert("计划内容是"+plan_content+"然后交付目标是"+deliver_target+"开始时间是"+plan_stime+"结束时间是"+plan_etime+"备注"+remarks+"类型"+plan_type);
                       if (plan_content == '' || deliver_target == '' 
                                || plan_stime == '' || plan_etime == '' 
                                || remarks == ''){
                            layer.msg('请填写完整信息后提交', {icon: 5});
                        }else{
                        $.ajax({
                             type:'POST',
                             url:"{:U('ItemMilepost/planStage')}",
                             data:{'plan_content' : plan_content,
                                   'deliver_target':deliver_target,
                                   'plan_stime' : plan_stime,
                                   'plan_etime':plan_etime,
                                   'deliver_target':deliver_target,
                                   'remarks':remarks,
                                   'pro_code':pro_code,
                                   'plan_code':plan_code,
                                   'plan_type':plan_type,
                                   'plan_name':plan_name,
                                   'milepost_id':milepost_id  
                                },
                             dataType:'json',
                             success:function(data){
                                layer.close(layer.index);
	                			layer.alert('提交成功');
                                location.reload();
                             }
                        })
                      }
         })  
    </script> 
</body>
</html>