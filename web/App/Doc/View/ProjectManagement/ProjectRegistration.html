<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="__DOCLAY__/plugins/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="__CSS__/ProjectRegistration.css" media="all">
    <script src="__STATIC__/jquery-2.0.3.min.js"></script>
		<script src="__STATIC__/vue.min.js"></script>
</head>

<body class="app">
    <div id="event-view">
			<div class="details_zong">
			<div class="details_left">
				<span class="tit">项目信息登记</span>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">项目名称：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">项目编号：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">保密等级：</label>
						<div class="layui-input-block">
						  <select name="interest" lay-filter="aihao" class="pro_select">
							<option value="">请选择项目保密等级</option>
							<option value="0">一级</option>
							<option value="1" selected="">二级</option>
							<option value="2">三级</option>
							<option value="3">四级</option>
						  </select>
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">创建时间：</label>
						  <div class="layui-input-block">
							<input type="text" name="date" id="date" lay-verify="date" placeholder="请选择日期" autocomplete="off" class="layui-input">
						  </div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">立项信息：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="请输入立项信息" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">所在区域：</label>
						<div class="layui-input-block">
							<div  class="search_div">
								<select name="interest" lay-filter="aihao" class="pro_select" @change="pro_select">
								<option value="">全国</option>
								<option v-for="i in province" :value="i.pid">{{i.pname}}</option>
								</select>
							</div>
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">合作单位：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="请输入合作单位名称" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">项目性质：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">所在行业：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">部门经理：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
				<div class="details_tab">
					<div class="layui-form-item">
						<label class="tit-tab">项目经理：</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>	
				</div>
			</div>
			<div class="details_right">
				<div style="margin-top: 5vh;">
					<div class="layui-form-item">
						<label class="layui-form-label">单选框&nbsp;</label>
						<div class="layui-input-block" style="line-height: 2.5;">
							<input type="radio" name="sex" value="是" title="是" checked="">是<e style="color: red;">&nbsp;(必须上传合同)</e>&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="radio" name="sex" value="否" title="否">否&nbsp;(预实施项目)
						</div>
					</div>
					<div class="layui-form-item">
						<label class="tit-tab">合同额(元)</label>
						<div class="layui-input-block">
						<input type="text" name="identity" lay-verify="identity" placeholder="" autocomplete="off" class="layui-input">
						</div>
					</div>		
				</div>
				<div class="layui-form-item">
					<label class="tit-tab">项目周期：</label>
						<div class="layui-input-block">
						<input type="text" name="date" id="date1" lay-verify="date1" placeholder="请选择日期" autocomplete="off" class="layui-input">
						</div>
				</div>	
				<div class="form_div2" style="vertical-align: top;">
						<label class="tit_shang">上传文件</label>
						<div class="cus-files" id="cus-form">
								<input type="file" id="cus-ipt" name="photo" class="cus-files-input" multiple="multiple" ref="inputer" accept=".doc,.docx,.pdf" @change="updateFileList" />
								<div class="cus-files-content">
										<div class="cus-warning">
												<img class="img1" src="__IMG__/up@2x.png">
												<p class="cus-warning-item">点击选择文件</p>
												<p class="cus-warning-item">支持扩展名：.doc,.docx,.pdf 最多4个</p>
										</div>
								</div>
						</div>
				</div>
				<div class="layui-form-item" style="margin-top:2vh;">
					<label class="tit-tab">项目介绍：</label>
					<div class="layui-input-block">
					<input type="text" name="identity" lay-verify="identity" placeholder="这里文字是项目介绍" autocomplete="off" class="layui-input" style="height: 30vh;">				
					</div>
				</div>		
			</div>
		</div>
			<div class="line"></div>
			<div class="layui-footer btn_mar">
			<button class="layui-btn layui-btn-primary" type="button">取消</button>
			<button class="layui-btn" type="button">提交</button>
			</div>
		</div>
		
</body>
<script src="__DOCLAY__/plugins/layui/layui.js"></script>
<script>
	layui.use(['form', 'layedit', 'laydate'], function(){
	  var form = layui.form,
	  layer = layui.layer,
	  layedit = layui.layedit,
	  laydate = layui.laydate;
	 //日期
	 
	  laydate.render({
			elem: '#date',
			type: 'datetime'
			});
	//日期时间范围
			laydate.render({
				elem: '#date1',
				range: true
			});
	  });

	 // 选择全国
    var app = new Vue({
        el: ".app",
        data: {
            message: {},
            data: [],
            status: [],
            area: [],
            customer: [],
            industry: [],
            province: [],
            city: [],
        },
				created: function () {
					this.getdata();
				},
        methods: {
            getdata() {
                var that = this;
                $.ajax({
                    cache: false,
                    type: "post",
                    url: "{:U('ProjectManagement/projectList')}",
                    dataType: "json",
                    // data: { area: "测试地点", status: "测试状态", keywords: "测试名称" },
                    success: function (data) {
                        // console.log(data.data);
                        that.status = data.data.status;
                        // that.area=data.data.area;
                        that.data = data.data.list;
                        that.customer = data.data.customer;
                        that.industry = data.data.industry;
                        that.province = data.data.area.province;
                    }
                })
            },
            changeType() {
                var _this = this;
                // console.log(_this.message)
                var i = _this.message.provinced;
                $.ajax({
                    cache: false,
                    type: "post",
                    url: "{:U('ProjectManagement/getCity')}",
                    dataType: "json",
                    data: { province_id: i },
                    success: function (data) {
                        _this.city = data.data;
                    }
                })
            },
            pro_select(){
                var that = this;
                var a = $(".pro_select").val();
                
                $.ajax({
                    cache: false,
                    type: "post",
                    url: "{:U('ProjectManagement/projectList')}",
                    dataType: "json",
                    data: { area_id: a },
                    success: function (data) {
                        console.log(data);
                        that.data=data.data.list;
                    }
                })
            },
        }
    })
</script>
</html>